import "./cljs_env.js";
import "./shadow.js.js";
import "./module$node_modules$$babel$runtime$helpers$interopRequireDefault.js";
import "./module$node_modules$$babel$runtime$helpers$extends.js";
import "./module$node_modules$react$index.js";
import "./module$node_modules$$mui$utils$index.js";
import "./module$node_modules$$mui$base$node$useListbox$useListbox_types.js";
import "./module$node_modules$$mui$base$node$useListbox$defaultListboxReducer.js";
import "./module$node_modules$$mui$base$node$useListbox$useControllableReducer.js";
import "./module$node_modules$$mui$base$node$utils$areArraysEqual.js";
import "./module$node_modules$$mui$base$node$utils$useLatest.js";
import "./module$node_modules$$mui$base$node$utils$useTextNavigation.js";
shadow$provide.module$node_modules$$mui$base$node$useListbox$useListbox=function(global,require,module,exports){function _getRequireWildcardCache(nodeInterop$jscomp$0){if("function"!==typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop$jscomp$0)}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,
"__esModule",{value:!0});exports.default=function(props){var _props$optionIdGenera;const {disabledItemsFocusable=!1,disableListWrap=!1,focusManagement="activeDescendant",id:idProp,isOptionDisabled=defaultIsOptionDisabled,listboxRef:externalListboxRef,multiple=!1,optionComparer=defaultOptionComparer,optionStringifier=defaultOptionStringifier,options,stateReducer:externalReducer,value:valueParam}=props,id=(0,_utils.unstable_useId)(idProp);var defaultIdGenerator=React.useCallback((_,index)=>`${id}-option-${index}`,
[id]);const optionIdGenerator=null!=(_props$optionIdGenera=props.optionIdGenerator)?_props$optionIdGenera:defaultIdGenerator;props=(0,_useLatest.default)((0,_extends2.default)({},props,{disabledItemsFocusable,disableListWrap,focusManagement,isOptionDisabled,multiple,optionComparer,optionStringifier}),[props]);const listboxRef=React.useRef(null),handleRef=(0,_utils.unstable_useForkRef)(externalListboxRef,listboxRef),[{highlightedValue,selectedValue},dispatch]=(0,_useControllableReducer.default)(_defaultListboxReducer.default,
externalReducer,props),handleTextNavigation=(0,_useTextNavigation.default)((searchString,event)=>dispatch({type:_useListbox.ActionTypes.textNavigation,event,searchString}));React.useEffect(()=>{void 0!==valueParam&&valueParam!==selectedValue&&dispatch({type:_useListbox.ActionTypes.setValue,event:null,value:valueParam})},[valueParam,selectedValue,dispatch]);const highlightedIndex=React.useMemo(()=>null==highlightedValue?-1:options.findIndex(option=>optionComparer(option,highlightedValue)),[highlightedValue,
options,optionComparer]),latestSelectedValue=(0,_useLatest.default)(selectedValue),latestHighlightedIndex=(0,_useLatest.default)(highlightedIndex),previousOptions=React.useRef([]);React.useEffect(()=>{(0,_areArraysEqual.default)(previousOptions.current,options,optionComparer)||(dispatch({type:_useListbox.ActionTypes.optionsChange,event:null,options,previousOptions:previousOptions.current}),previousOptions.current=options)},[options,optionComparer,dispatch]);props=React.useCallback(option=>{dispatch({type:_useListbox.ActionTypes.setValue,
event:null,value:option})},[dispatch]);_props$optionIdGenera=React.useCallback(option=>{dispatch({type:_useListbox.ActionTypes.setHighlight,event:null,highlight:option})},[dispatch]);const createHandleOptionClick=React.useCallback((option,other)=>event=>{var _other$onClick;null==(_other$onClick=other.onClick)?void 0:_other$onClick.call(other,event);event.defaultPrevented||(event.preventDefault(),dispatch({type:_useListbox.ActionTypes.optionClick,option,event}))},[dispatch]),createHandleOptionPointerOver=
React.useCallback((option,other)=>event=>{var _other$onMouseOver;null==(_other$onMouseOver=other.onMouseOver)?void 0:_other$onMouseOver.call(other,event);event.defaultPrevented||dispatch({type:_useListbox.ActionTypes.optionHover,option,event})},[dispatch]),createHandleKeyDown=other=>event=>{var _other$onKeyDown;null==(_other$onKeyDown=other.onKeyDown)?void 0:_other$onKeyDown.call(other,event);event.defaultPrevented||(_other$onKeyDown="ArrowUp ArrowDown Home End PageUp PageDown".split(" "),"activeDescendant"===
focusManagement&&_other$onKeyDown.push(" ","Enter"),_other$onKeyDown.includes(event.key)&&event.preventDefault(),dispatch({type:_useListbox.ActionTypes.keyDown,event}),handleTextNavigation(event))},createHandleBlur=other=>event=>{var _other$onBlur,_listboxRef$current;null==(_other$onBlur=other.onBlur)?void 0:_other$onBlur.call(other,event);event.defaultPrevented||null!=(_listboxRef$current=listboxRef.current)&&_listboxRef$current.contains(document.activeElement)||dispatch({type:_useListbox.ActionTypes.blur,
event})},getOptionState=React.useCallback(option=>{let selected;const index=options.findIndex(opt=>optionComparer(opt,option));if(multiple){var _ref;selected=(null!=(_ref=latestSelectedValue.current)?_ref:[]).some(value=>null!=value&&optionComparer(option,value))}else selected=optionComparer(option,latestSelectedValue.current);return{disabled:isOptionDisabled(option,index),highlighted:latestHighlightedIndex.current===index&&-1!==index,index,selected}},[options,multiple,isOptionDisabled,optionComparer,
latestSelectedValue,latestHighlightedIndex]),getOptionTabIndex=React.useCallback(optionState=>{if("activeDescendant"!==focusManagement)return!optionState.highlighted||optionState.disabled&&!disabledItemsFocusable?-1:0},[focusManagement,disabledItemsFocusable]);defaultIdGenerator=React.useCallback((option,otherHandlers={})=>{const optionState=getOptionState(option);return(0,_extends2.default)({},otherHandlers,{"aria-disabled":optionState.disabled||void 0,"aria-selected":optionState.selected,id:optionIdGenerator(option,
optionState.index),onClick:createHandleOptionClick(option,otherHandlers),onPointerOver:createHandleOptionPointerOver(option,otherHandlers),role:"option",tabIndex:getOptionTabIndex(optionState)})},[optionIdGenerator,createHandleOptionClick,createHandleOptionPointerOver,getOptionTabIndex,getOptionState]);React.useDebugValue({highlightedOption:highlightedValue,selectedOption:selectedValue});return{getRootProps:(otherHandlers={})=>(0,_extends2.default)({},otherHandlers,{"aria-activedescendant":"activeDescendant"===
focusManagement&&null!=highlightedValue?optionIdGenerator(highlightedValue,highlightedIndex):void 0,id,onBlur:createHandleBlur(otherHandlers),onKeyDown:createHandleKeyDown(otherHandlers),role:"listbox",tabIndex:"DOM"===focusManagement?-1:0,ref:handleRef}),getOptionProps:defaultIdGenerator,getOptionState,highlightedOption:highlightedValue,selectedOption:selectedValue,setSelectedValue:props,setHighlightedValue:_props$optionIdGenera}};var _extends2=global(require("module$node_modules$$babel$runtime$helpers$extends")),
React=function(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==typeof obj&&"function"!==typeof obj)return{default:obj};if((nodeInterop=_getRequireWildcardCache(nodeInterop))&&nodeInterop.has(obj))return nodeInterop.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor,key;for(key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,
key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj;nodeInterop&&nodeInterop.set(obj,newObj);return newObj}(require("module$node_modules$react$index")),_utils=require("module$node_modules$$mui$utils$index"),_useListbox=require("module$node_modules$$mui$base$node$useListbox$useListbox_types"),_defaultListboxReducer=global(require("module$node_modules$$mui$base$node$useListbox$defaultListboxReducer")),_useControllableReducer=global(require("module$node_modules$$mui$base$node$useListbox$useControllableReducer")),
_areArraysEqual=global(require("module$node_modules$$mui$base$node$utils$areArraysEqual")),_useLatest=global(require("module$node_modules$$mui$base$node$utils$useLatest")),_useTextNavigation=global(require("module$node_modules$$mui$base$node$utils$useTextNavigation"));const defaultOptionComparer=(optionA,optionB)=>optionA===optionB,defaultIsOptionDisabled=()=>!1,defaultOptionStringifier=option=>"string"===typeof option?option:String(option)}
//# sourceMappingURL=module$node_modules$$mui$base$node$useListbox$useListbox.js.map
