{
"version":3,
"file":"module$node_modules$$restart$hooks$cjs$useImage.js",
"lineCount":2,
"mappings":"AAAAA,cAAA,CAAA,+CAAA,CAAoE,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAG5GA,OAAQC,CAAAA,UAAR,CAAqB,CAAA,CACrBD,QAAQE,CAAAA,OAAR,CA2BAC,QAAiB,CAACC,UAAD,CAAaC,WAAb,CAA0B,CACzC,MAAM,CAACC,KAAD,CAAQC,QAAR,CAAA,CAAoB,GAAIC,MAAOC,CAAAA,QAAX,EAAqB,CAC7CC,MAAO,IADsC,CAE7CC,MAAO,IAFsC,CAArB,CAI1B,IAAIH,MAAOI,CAAAA,SAAX,EAAsB,EAAA,EAAM,CAiB1BC,QAASA,OAAM,EAAG,CAChBN,QAAA,CAAS,CACPG,KADO,CAEPC,MAAO,IAFA,CAAT,CADgB,CAMlBG,QAASA,QAAO,CAACH,KAAD,CAAQ,CACtBJ,QAAA,CAAS,CACPG,KADO,CAEPC,KAFO,CAAT,CADsB,CAtBxB,GAAKP,UAAL,CAAA,CAEA,GAA0B,QAA1B,GAAI,MAAOA,WAAX,CAAoC,CAClC,IAAAM,MAAQ,IAAIK,KACRV,YAAJ,GAAiBK,KAAML,CAAAA,WAAvB,CAAqCA,WAArC,CACAK,MAAMM,CAAAA,GAAN,CAAYZ,UAHsB,CAApC,IAME,IADAM,KACI;AADIN,UACJ,CAAAM,KAAMO,CAAAA,QAAN,EAAwC,CAAxC,CAAkBP,KAAMQ,CAAAA,aAA5B,CAA+C,CAC7CX,QAAA,CAAS,CACPG,KADO,CAEPC,MAAO,IAFA,CAAT,CAIA,OAL6C,CAoBjDD,KAAMS,CAAAA,gBAAN,CAAuB,MAAvB,CAA+BN,MAA/B,CACAH,MAAMS,CAAAA,gBAAN,CAAuB,OAAvB,CAAgCL,OAAhC,CACA,OAAO,EAAA,EAAM,CACXJ,KAAMU,CAAAA,mBAAN,CAA0B,MAA1B,CAAkCP,MAAlC,CACAH,MAAMU,CAAAA,mBAAN,CAA0B,OAA1B,CAAmCN,OAAnC,CAFW,CA9Bb,CAD0B,CAA5B,CAmCG,CAACV,UAAD,CAAaC,WAAb,CAnCH,CAoCA,OAAOC,MAzCkC,CA1B3C,KAAIE,OAASV,OAAA,CAAQ,iCAAR,CAL+F;",
"sources":["node_modules/@restart/hooks/cjs/useImage.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$restart$hooks$cjs$useImage\"] = function(global,require,module,exports) {\n\"use strict\";\n\nexports.__esModule = true;\nexports.default = useImage;\nvar _react = require(\"react\");\n/**\n * Fetch and load an image for programatic use such as in a `<canvas>` element.\n *\n * @param imageOrUrl The `HtmlImageElement` or image url to load\n * @param crossOrigin The `crossorigin` attribute to set\n *\n * ```ts\n * const { image, error } = useImage('/static/kittens.png')\n * const ref = useRef<HTMLCanvasElement>()\n *\n * useEffect(() => {\n *   const ctx = ref.current.getContext('2d')\n *\n *   if (image) {\n *     ctx.drawImage(image, 0, 0)\n *   }\n * }, [ref, image])\n *\n * return (\n *   <>\n *     {error && \"there was a problem loading the image\"}\n *     <canvas ref={ref} />\n *   </>\n * ```\n */\nfunction useImage(imageOrUrl, crossOrigin) {\n  const [state, setState] = (0, _react.useState)({\n    image: null,\n    error: null\n  });\n  (0, _react.useEffect)(() => {\n    if (!imageOrUrl) return undefined;\n    let image;\n    if (typeof imageOrUrl === 'string') {\n      image = new Image();\n      if (crossOrigin) image.crossOrigin = crossOrigin;\n      image.src = imageOrUrl;\n    } else {\n      image = imageOrUrl;\n      if (image.complete && image.naturalHeight > 0) {\n        setState({\n          image,\n          error: null\n        });\n        return;\n      }\n    }\n    function onLoad() {\n      setState({\n        image,\n        error: null\n      });\n    }\n    function onError(error) {\n      setState({\n        image,\n        error\n      });\n    }\n    image.addEventListener('load', onLoad);\n    image.addEventListener('error', onError);\n    return () => {\n      image.removeEventListener('load', onLoad);\n      image.removeEventListener('error', onError);\n    };\n  }, [imageOrUrl, crossOrigin]);\n  return state;\n}\n};"],
"names":["shadow$provide","global","require","module","exports","__esModule","default","useImage","imageOrUrl","crossOrigin","state","setState","_react","useState","image","error","useEffect","onLoad","onError","Image","src","complete","naturalHeight","addEventListener","removeEventListener"]
}
